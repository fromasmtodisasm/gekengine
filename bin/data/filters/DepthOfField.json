{
    "textures": {
        "depthBuffer": {
            "bind": "float",
            "source": "Solid"
        },
        "circleOfConfusion": {
            "bind": "float",
            "flags": "target",
            "format": "R16_FLOAT"
        }
    },
    "buffers": {
        "averageFocalDepth": {
            "size": "1",
            "flags": "unorderedAccess",
            "format": "R32_FLOAT"
        }
    },
    "defines": {
        "focalRange": "20.0",
        "sampleCount": {
            "bind": "int",
            "value": "4"
        },
        "ringCount": {
            "bind": "int",
            "value": "7"
        },
        "highlightThreshold": "0.5",
        "highlightGain": "10.0",
        "bokehEdgeBias": "0.4",
        "enableChromaticAberation": {
            "bind": "bool",
            "value": "true"
        },
        "bokehChromaticAberation": "0.75",
        "enableDithering": {
            "bind": "bool",
            "value": "true"
        },
        "noiseStrength": "0.0001",
        "enableDepthBlur": {
            "bind": "bool",
            "value": "false"
        },
        "depthBlurSize": "2.0",
        "enablePentagon": {
            "bind": "bool",
            "value": "false"
        },
        "pentagonFeathering": "0.4",
        "gaussianRadius": {
            "bind": "int",
            "value": "7"
        },
        "gaussianSigma": "1"
    },
    "passes": [
        {
            "program": "AdaptFocalDepth",
            "entry": "mainComputeProgram",
            "mode": "compute",
            "dispatch": "(1, 1, 1)",
            "defines": {
                "adaptionRate": "5.0"
            },
            "resources": [
                "depthBuffer"
            ],
            "unorderedAccess": [
                "averageFocalDepth"
            ]
        },
        {
            "program": "SeparateLayers",
            "entry": "mainPixelProgram",
            "resources": [
                "averageFocalDepth",
                "depthBuffer",
                "screen"
            ]
            "targets": [
                "circleOfConfusion",
                "screenBuffer"
            ]
        },
        {
            "program": "GatherBackground",
            "entry": "mainPixelProgram",
            "resources": [
                "circleOfConfusion",
                "screenBuffer"
            ],
            "targets": [
                "screen"
            ]
        }
    ]
}