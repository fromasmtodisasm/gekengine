{
    "textures": {
        "depthBuffer": {
            "bind": "float",
            "source": "solid"
        },
        "normalBuffer": {
            "bind": "float3",
            "source": "solid"
        },
        "ambientBuffer": {
            "bind": "float",
            "flags": "target",
            "format": "R8_UNORM"
        },
        "gaussianBuffer": {
            "bind": "float",
            "flags": "target",
            "format": "R8_UNORM"
        }
    },
    "passes": [
        {
            "program": "AmbientCalculation",
            "entry": "mainPixelProgram",
            "resources": [
                "normalBuffer",
                "depthBuffer"
            ],
            "targets": [
                "ambientBuffer"
            ]
        },
        {
            "program": "AmbientBlur",
            "entry": "mainPixelProgram",
            "engineData": "static const float2 blurAxis = float2(1,0);",
            "resources": [
                "depthBuffer",
                { "ambientBuffer": "inputBuffer" }
            ],
            "targets": [
                "gaussianBuffer"
            ]
        },
        {
            "program": "AmbientBlur",
            "entry": "mainPixelProgram",
            "engineData": "static const float2 blurAxis = float2(0,1);",
            "resources": [
                "depthBuffer",
                { "gaussianBuffer": "inputBuffer" }
            ],
            "targets": [
                "ambientBuffer"
            ]
        },
        {
            "program": "AmbientLighting",
            "entry": "mainPixelProgram",
            "resources": [
                "ambientBuffer"
            ],
            "blendState": {
                "enable": true,
                "colorSource": "Zero",
                "colorDestination": "SourceColor",
                "colorOperation": "Add"
            },
            "targets": [
                "screen"
            ]
        }
    ]
}