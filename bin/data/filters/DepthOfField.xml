<?xml version="1.0"?>
<filter>
    <textures>
        <finalBuffer bind="float3" source="$standard" name="finalBuffer" />
        <depth bind="float" source="$standard" name="depth"/>
    </textures>

    <buffers>
        <focalDepth size="1" flags="unorderedAccess">R32_FLOAT</focalDepth>
    </buffers>
    
    <passes>
        <AdaptFocalDepth compute="(1, 1, 1)" entry="mainComputeProgram">
            <resources>
                <depth />
            </resources>

            <unorderedaccess>
                <focalDepth />
            </unorderedaccess>
        </AdaptFocalDepth>

        <CalculateBlur entry="mainPixelProgram">
            <resources>
                <focalDepth />
                <depth />
            </resources>
        </CalculateBlur>
    </passes>
</filter>
