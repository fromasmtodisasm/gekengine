<?xml version="1.0"?>
<filter>
    <textures>
        <depthBuffer bind="float" source="$standard" />
        <finalBuffer bind="float3" source="$standard" />
        <finalCopy bind="float3">R11G11B10_FLOAT</finalCopy>
    </textures>

    <buffers>
        <averageFocalDepth size="1" flags="unorderedAccess">R32_FLOAT</averageFocalDepth>
    </buffers>

    <defines>
    </defines>

    <passes>
        <AdaptFocalDepth compute="(1, 1, 1)" entry="mainComputeProgram">
            <resources>
                <depthBuffer />
            </resources>

            <unorderedaccess>
                <averageFocalDepth />
            </unorderedaccess>
        </AdaptFocalDepth>

        <CalculateBlur entry="mainPixelProgram">
            <resources>
                <averageFocalDepth />
                <depthBuffer />
                <finalCopy copy="finalBuffer" />
            </resources>

            <targets>
                <finalBuffer />
            </targets>
        </CalculateBlur>
    </passes>
</filter>
