{
    "input": [
        {
            "name": "position",
            "bind": "float3",
            "semantic": "POSITION"
        },
        {
            "name": "texCoord",
            "bind": "float2",
            "semantic": "TEXCOORD"
        },
        {
            "name": "tangent",
            "bind": "float3",
            "semantic": "TANGENT"
        },
        {
            "name": "biTangent",
            "bind": "float3",
            "semantic": "BITANGENT"
        },
        {
            "name": "normal",
            "bind": "float3",
            "semantic": "NORMAL"
        },
        {
            "name": "isFrontFacing",
            "system": "isFrontFacing"
        }
    ],
    "material": {
        "solid": [
            {
                "name": "albedo",
                "bind": "float4",
                "pattern": "system",
                "parameters": "debug",
                "type": "Texture2D"
            },
            {
                "name": "normal",
                "bind": "float2",
                "pattern": "system",
                "parameters": "flat",
                "type": "Texture2D"
            },
            {
                "name": "roughness",
                "bind": "float",
                "pattern": "color",
                "parameters": 0.5,
                "type": "Texture2D"
            },
            {
                "name": "metallic",
                "bind": "float",
                "pattern": "color",
                "parameters": 0,
                "type": "Texture2D"
            }
        ]
    },
    "textures": {
        "depthBuffer": {
            "source": "solid",
            "bind": "float"
        },
        "glassBuffer": {
            "bind": "float3",
            "flags": "target",
            "format": "R11G11B10_FLOAT",
            "mipmaps": 6
        }
    },
    "passes": [
        {
            "program": "AccumulateLighting",
            "entry": "mainPixelProgram",
            "mode": "forward",
            "material": "solid",
            "lighting": true,
            "defines": {
                "useHalfLambert": {
                    "bind": "bool",
                    "value": "true"
                }
            },
            "depthBuffer":  "depthBuffer",
            "depthState": {
                "enable": true,
                "comparisonFunction": "LessEqual",
                "writeMask": "All"
            },
            "copy": {
                "glassBuffer": "screen"
            },
            "generateMipMaps": [
                "glassBuffer"
            ],
            "resources": [
                "glassBuffer"
            ],
            "targets": [
                "screen"
            ]            
        }
    ]
}
